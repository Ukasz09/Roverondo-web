<div class="menu" [ngClass]="{'native':!menuForMobile}">
  <div class="user-info">
    <h1 *ngIf="!menuForMobile" class="logo" [routerLink]="homeRouterLink">
      <app-logo-text></app-logo-text>
    </h1>
    <ng-container *ngIf="withAvatar; else dividerTemplate">
      <ng-container *ngIf="currentUserService.currentUser$ | async as user; else userLoadingSpinner">
        <div class="avatar-wrapper">
          <app-profile-avatar id="user-avatar"
                              [fadeIn]="false"
                              [nickname]="user.nickname"
                              [avatarImgPath]="user.profilePicture"
                              [userId]="user.id">
          </app-profile-avatar>
        </div>
        <label for="user-avatar" *ngIf="menuForMobile" class="username">{{ user.nickname }}</label>
      </ng-container>
      <ng-template #userLoadingSpinner>
        <div class="profile-spinner-wrapper">
          <mat-spinner></mat-spinner>
        </div>
      </ng-template>
    </ng-container>
    <ng-template #dividerTemplate>
      <div class="divider"></div>
    </ng-template>
  </div>
  <div style="flex:1; overflow: auto">
    <ul class="drawer-links">
      <li><h3
        class="link"
        (click)="navigateToWall(ActivitiesRoutes.completed)"
        [appActiveLink]="ActivitiesRoutes.wall"
        [appDisabledLink]="ActivitiesRoutes.wall"
        [appActiveLinkIndex]="2"
        [appDisabledLinkIndex]="2"
        [appDisabledTextDecoration]="false"
        id="wall">
        Wall
      </h3></li>
      <li><h3
        class="link"
        (click)="navigate(AppRoutes.activities,ActivitiesRoutes.completed)"
        [appActiveLink]="ActivitiesRoutes.completed"
        [appDisabledLink]="ActivitiesRoutes.completed"
        [appActiveLinkIndex]="2"
        [appDisabledLinkIndex]="2"
        [appDisabledTextDecoration]="false"
        id="my-activities">
        Activities
      </h3></li>
      <li><h3
        class="link"
        (click)="navigate(AppRoutes.activities, ActivitiesRoutes.planned)"
        [appActiveLink]="ActivitiesRoutes.planned"
        [appDisabledLink]="ActivitiesRoutes.planned"
        [appActiveLinkIndex]="2"
        [appDisabledLinkIndex]="2"
        [appDisabledTextDecoration]="false"
        id="my-planned-routes">
        Planned routes
      </h3></li>
      <li><h3
        class="link"
        (click)="navigate(AppRoutes.activities, ActivitiesRoutes.events)"
        [appActiveLink]="ActivitiesRoutes.events"
        [appDisabledLink]="ActivitiesRoutes.events"
        [appActiveLinkIndex]="2"
        [appDisabledLinkIndex]="2"
        [appDisabledTextDecoration]="false"
        id="my-events">
        Events
      </h3></li>
      <li><h3
        class="link"
        [appActiveLink]="ActivitiesRoutes.liked"
        [appDisabledLink]="ActivitiesRoutes.liked"
        [appActiveLinkIndex]="2"
        [appDisabledLinkIndex]="2"
        [appDisabledTextDecoration]="false"
        (click)="navigate(AppRoutes.activities,ActivitiesRoutes.liked)"
        id="liked-activities">
        Liked Activities
      </h3></li>
      <li><h3
        class="link"
        [routerLink]="getRouteLink([AppRoutes.leaderboard])"
        [appActiveLink]="AppRoutes.leaderboard"
        [appDisabledLink]="AppRoutes.leaderboard"
        [appActiveLinkIndex]="0"
        [appDisabledLinkIndex]="0"
        [appDisabledTextDecoration]="false"
        (click)="closeDrawer.emit()"
        id="leaderboard">
        Leaderboard
      </h3></li>
      <li><h3
        class="link"
        (click)="navigate(AppRoutes.user,UserRoutes.followers)"
        [appActiveLink]="UserRoutes.followers"
        [appDisabledLink]="UserRoutes.followers"
        [appActiveLinkIndex]="2"
        [appDisabledLinkIndex]="2"
        [appDisabledTextDecoration]="false"
        id="followers">
        Followers
      </h3></li>
      <li><h3
        class="link"
        [appActiveLink]="UserRoutes.followings"
        [appDisabledLink]="UserRoutes.followings"
        [appActiveLinkIndex]="2"
        [appDisabledLinkIndex]="2"
        [appDisabledTextDecoration]="false"
        (click)="navigate(AppRoutes.user,UserRoutes.followings)"
        id="following">
        Following
      </h3></li>
      <li><h3
        class="link"
        [appActiveLink]="AppRoutes.findFriends"
        [appDisabledLink]="AppRoutes.findFriends"
        [appActiveLinkIndex]="0"
        [appDisabledLinkIndex]="0"
        [appDisabledTextDecoration]="false"
        (click)="closeDrawer.emit()"
        [routerLink]="getRouteLink([AppRoutes.findFriends])"
        id="find-friends">
        Find friends
      </h3></li>
      <li>
        <h3
          class="link"
          (click)="logout()"
          id="logout">
          <span class="logout-text">Logout</span>
          <mat-icon class="icon">logout</mat-icon>
        </h3>
      </li>
    </ul>
  </div>
</div>
