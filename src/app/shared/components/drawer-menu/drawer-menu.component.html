<div class="menu" [ngClass]="{'native':!menuForMobile}">
  <div class="user-info">
    <h1 *ngIf="!menuForMobile" class="logo" [routerLink]="homeRouterLink">
      <app-logo-text></app-logo-text>
    </h1>
    <ng-container *ngIf="auth.user$ | async as user; else userLoadingSpinner">
      <div class="avatar-wrapper">
        <app-profile-avatar id="user-avatar"
                            [fadeIn]="false"
                            [nickname]="user.nickname"
                            [avatarImgPath]="user.picture"
                            [routerLink]="getRouteLink([AppRoutes.user])">
        </app-profile-avatar>
      </div>
      <label for="user-avatar" *ngIf="menuForMobile" class="username">{{ user.name }}</label>

    </ng-container>
    <ng-template #userLoadingSpinner>
      <div class="profile-spinner-wrapper">
        <mat-spinner></mat-spinner>
      </div>
    </ng-template>
  </div>
  <div>
    <ul class="drawer-links">
      <li><h3
        class="link"
        (click)="navigateToWall(ActivitiesRoutes.completed)"
        [appActiveLink]="ActivitiesRoutes.wall"
        [routeIndex]="2"
        id="wall">
        Wall
      </h3></li>
      <li><h3
        class="link"
        [appActiveLink]="ActivitiesRoutes.completed"
        (click)="navigate(AppRoutes.activities,ActivitiesRoutes.completed)"
        [routeIndex]="2"
        id="my-activities">
        Activities
      </h3></li>
      <li><h3
        class="link"
        (click)="navigate(AppRoutes.activities, ActivitiesRoutes.planned)"
        [appActiveLink]="ActivitiesRoutes.planned"
        [routeIndex]="2"
        id="my-planned-routes">
        Planned routes
      </h3></li>
      <li><h3
        class="link"
        (click)="navigate(AppRoutes.activities, ActivitiesRoutes.events)"
        [appActiveLink]="ActivitiesRoutes.events"
        [routeIndex]="2"
        id="my-events">
        Events
      </h3></li>
      <li><h3
        class="link"
        [appActiveLink]="ActivitiesRoutes.liked"
        [routeIndex]="2"
        (click)="navigate(AppRoutes.activities,ActivitiesRoutes.liked)"
        id="liked-activities">
        Liked Activities
      </h3></li>
      <li><h3
        class="link"
        [routerLink]="getRouteLink([AppRoutes.leaderboard])"
        [appActiveLink]="AppRoutes.leaderboard"
        [routeIndex]="0"
        (click)="closeDrawer.emit()"
        id="leaderboard">
        Leaderboard
      </h3></li>
      <li><h3
        class="link"
        [appActiveLink]="UserRoutes.followers"
        (click)="navigate(AppRoutes.user,UserRoutes.followers)"
        [routeIndex]="2"
        id="followers">
        Followers
      </h3></li>
      <li><h3
        class="link"
        [appActiveLink]="UserRoutes.followings"
        [routeIndex]="2"
        (click)="navigate(AppRoutes.user,UserRoutes.followings)"
        id="following">
        Following
      </h3></li>
      <li>
        <h3
          class="link"
          (click)="logout()"
          id="logout">
          <span class="logout-text">Logout</span>
          <mat-icon class="icon">logout</mat-icon>
        </h3>
      </li>
    </ul>
  </div>
</div>
