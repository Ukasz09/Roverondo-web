<div class="container">
  <app-aside-layout>
    <div class="content">
      <div *ngIf="selectedActivity; else activitiesWall" class="details">
        <app-activity-details [id]="'activity-details'"
                              [activity]="selectedActivity"
                              (exitDetailsClick)="exitDetailsView()">
        </app-activity-details>
        <div class="backdrop" (click)="exitDetailsView()">
        </div>
      </div>
      <ng-template #activitiesWall>
        <h1 *ngIf="isMobileLayout" class="mobile-logo">
          <app-logo-text [routerLink]="AppRoutes.home" [lightText]="true"></app-logo-text>
        </h1>
        <app-scroll-container [id]="scrollContainerId" class="card-wrapper"
                              [withScrollbar]="!isMobileLayout"
                              [initialScrollTopOffsetPx]="scrollService.getScrollTopPosition(scrollContainerId)"
                              #scrollContainerComponent
        >
          <div *ngFor="let activity of activities" class="activity-card">
            <app-glass-card>
              <ng-container *ngIf="activity; else spinner">
                <app-activity-card-content
                  [activity]="activity"
                  (like)="onLikeClick(activity)"
                  (comment)="onAddCommentClick(activity, $event)"
                  (detailsClick)="onActivityDetailsClick(activity)"
                >
                </app-activity-card-content>
              </ng-container>

              <ng-template #spinner>
                <div class="spinner-wrapper">
                  <mat-spinner></mat-spinner>
                </div>
              </ng-template>
            </app-glass-card>
          </div>
        </app-scroll-container>
      </ng-template>
    </div>
  </app-aside-layout>
</div>
